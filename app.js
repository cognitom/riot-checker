!function t(e,n,r){function o(a,c){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return o(n?n:t)},f,f.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){function r(t,e,n,r){var i=document.querySelector(t),a=o.mount(i,e,n)[0];i.setAttribute("riot-tag",e),r&&Object.keys(r).map(function(t){a.on(t,r[t])})}var o=t("riot"),i=t("riot/lib/server/analyzer");t("./components/app-header.html"),t("./components/app-footer.html"),t("./components/editor.html"),t("./components/checker.html");var a="RIOT_CHECKER_SOURCE",c=t("./source-sample"),u=localStorage.getItem(a)||c,s={header:function(t){r("#header","app-header",{active:t},{showSource:function(){s.editor()},showResult:function(){s.checker()}})},footer:function(t){r("#footer","app-footer")},editor:function(){r("#container","editor",{source:u},{change:function(t){u=t,localStorage.setItem(a,u)}})},checker:function(){var t=i(u);r("#container","checker",{results:t})}};s.header("result"),s.footer(),s.checker()},{"./components/app-footer.html":4,"./components/app-header.html":5,"./components/checker.html":6,"./components/editor.html":7,"./source-sample":8,riot:3,"riot/lib/server/analyzer":2}],2:[function(t,e,n){function r(t){var e="outside",n="",r=t.split("\n").map(function(t,r){var m,v,b="";return(m=t.match(i))?(v="tag_start","tag"==e?b=h:(n=m[1],e="tag")):(m=t.match(a))?(v="tag_end",n!=m[1]?b=d:(n="",e="outside")):(m=t.match(o))?"tag"==e?(v=e,b=h):(v="line_tag",n="",e="outside"):(m=t.match(u))?(b="tag"==e?h:g,v=e):(m=t.match(s))?(v="style_start",e="style",block=""):(m=t.match(f))?(v="style_end",e="tag",block=""):(m=t.match(l))?(v="script_start",e="script",block=""):(m=t.match(p))?(v="script_end",e="tag",block=""):v=(m=t.match(c))?"template":e,{line:"L"+(r+1),source:t,type:v,error:b}});r.push({line:"EOF",source:"",type:"end_of_file",error:"outside"==e?"":m});for(var v,b=r.length-1;b>=0;b--)v=r[b].type,"tag_end"==v?e="script":"template"==v||"style"==v||"script"==v?e="template":"tag"==v&&(r[b].type=e);return r}var o=/^<([\w\-]+)>(.*)<\/\1>\s*$/,i=/^<([\w\-]+)\s?([^>]*)>\s*$/,a=/^<\/([\w\-]+)>\s*$/,c=/<\/([\w\-]+)>\s*$/,u=/^</,s=/^\s+<style\s?([^>]*)>\s*$/,f=/^\s+<\/style>\s*$/,l=/^\s+<script\s?([^>]*)>\s*$/,p=/^\s+<\/script>\s*$/,d="Closing tag unmatch",h="Indentation needed within tag definition",g="Invalid tag flagment",m="Last tag definition is not closed";e.exports=r},{}],3:[function(t,e,n){!function(t){function r(t){var e={val:t},n=t.split(/\s+in\s+/);return n[1]&&(e.val=E(0)+n[1],n=n[0].slice(E(0).length).trim().split(/,\s*/),e.key=n[0],e.pos=n[1]),e}function o(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function i(t,e,n){function i(t,e,n){l.splice(t,0,e),h.splice(t,0,n)}d(t,"each");var a,c=t.outerHTML,s=t.previousSibling,f=t.parentNode,l=[],h=[];n=r(n),e.one("update",function(){f.removeChild(t)}).one("premount",function(){f.stub&&(f=e.root)}).on("update",function(){var t=H(n.val,e);if(t){if(!Array.isArray(t)){var r=JSON.stringify(t);if(r==a)return;a=r,p(h,function(t){t.unmount()}),l=[],h=[],t=Object.keys(t).map(function(e){return o(n,e,t[e])})}p(l,function(e){if(e instanceof Object){if(t.indexOf(e)>-1)return}else{var n=w(t,e),r=w(l,e);if(n.length>=r.length)return}var o=l.indexOf(e),i=h[o];return i?(i.unmount(),l.splice(o,1),h.splice(o,1),!1):void 0});var d=[].indexOf.call(f.childNodes,s)+1;p(t,function(r,s){var p=t.indexOf(r,s),g=l.indexOf(r,s);if(0>p&&(p=t.lastIndexOf(r,s)),0>g&&(g=l.lastIndexOf(r,s)),!(r instanceof Object)){var m=w(t,r),v=w(l,r);m.length>v.length&&(g=-1)}var b=f.childNodes;if(0>g){if(!a&&n.key)var y=o(n,r,p);var k=new u({tmpl:c},{before:b[d+p],parent:e,root:f,item:y||r});return k.mount(),i(p,r,k),!0}return n.pos&&h[g][n.pos]!=p&&(h[g].one("update",function(t){t[n.pos]=p}),h[g].update()),p!=g?(f.insertBefore(b[d+g],b[d+(p>g?p+1:p)]),i(p,l.splice(g,1)[0],h.splice(g,1)[0])):void 0}),l=t.slice()}})}function a(t,e,n){b(t,function(t){if(1==t.nodeType){t.parentNode&&t.parentNode.isLoop&&(t.isLoop=1),t.getAttribute("each")&&(t.isLoop=1);var r=L(t);if(r&&!t.isLoop){for(var o,i=new u(r,{root:t,parent:e},t.innerHTML),a=r.name,c=e;!L(c.root)&&c.parent;)c=c.parent;i.parent=c,o=c.tags[a],o?(Array.isArray(o)||(c.tags[a]=[o]),c.tags[a].push(i)):c.tags[a]=i,t.innerHTML="",n.push(i)}p(t.attributes,function(n){/^(name|id)$/.test(n.name)&&(e[n.value]=t)})}})}function c(t,e,n){function r(t,e,r){if(e.indexOf(E(0))>=0){var o={dom:t,expr:e};n.push(h(o,r))}}b(t,function(t){var n=t.nodeType;if(3==n&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==n){var o=t.getAttribute("each");return o?(i(t,e,o),!1):(p(t.attributes,function(e){var n=e.name,o=n.split("__")[1];return r(t,e.value,{attr:o||n,bool:o}),o?(d(t,n),!1):void 0}),L(t)?!1:void 0)}})}function u(t,e,n){function r(){p(Object.keys(_),function(t){s[t]=H(_[t],d||u)})}function o(t){if(p(m,function(e){e[t?"mount":"unmount"]()}),d){var e=t?"on":"off";d[e]("update",u.update)[e]("unmount",u.unmount)}}var i,u=C.observable(this),s=x(e.opts)||{},f=v(t.tmpl),d=e.parent,g=[],m=[],b=e.root,k=e.item,w=t.fn,L=b.tagName.toLowerCase(),_={};w&&b._tag&&b._tag.unmount(!0),b._tag=this,this._id=~~((new Date).getTime()*Math.random()),h(this,{parent:d,root:b,opts:s,tags:{}},k),p(b.attributes,function(t){_[t.name]=t.value}),f.innerHTML&&!/select/.test(L)&&(f.innerHTML=y(f.innerHTML,n)),this.update=function(t,e){h(u,t,k),r(),u.trigger("update",k),l(g,u,k),u.trigger("updated")},this.mount=function(){if(r(),w&&w.call(u,s),o(!0),c(f,u,g),u.parent||u.update(),u.trigger("premount"),w)for(;f.firstChild;)b.appendChild(f.firstChild);else i=f.firstChild,b.insertBefore(i,e.before||null);b.stub&&(u.root=b=d.root),u.trigger("mount")},this.unmount=function(t){var e=w?b:i,n=e.parentNode;if(n){if(d)Array.isArray(d.tags[L])?p(d.tags[L],function(t,e){t._id==u._id&&d.tags[L].splice(e,1)}):delete d.tags[L];else for(;e.firstChild;)e.removeChild(e.firstChild);t||n.removeChild(e)}u.trigger("unmount"),o(),u.off("*"),b._tag=null},a(f,this,m)}function s(e,n,r,o,i){r[e]=function(e){e=e||t.event,e.which=e.which||e.charCode||e.keyCode,e.target=e.target||e.srcElement,e.currentTarget=r,e.item=i,n.call(o,e)===!0||/radio|check/.test(r.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1);var a=i?o.parent:o;a.update()}}function f(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function l(t,e,n){p(t,function(t,r){var o=t.dom,i=t.attr,a=H(t.expr,e),c=t.dom.parentNode;if(null==a&&(a=""),c&&"TEXTAREA"==c.tagName&&(a=a.replace(/riot-/g,"")),t.value!==a){if(t.value=a,!i)return o.nodeValue=a;if(d(o,i),"function"==typeof a)s(i,a,o,e,n);else if("if"==i){var u=t.stub;a?u&&f(u.parentNode,u,o):(u=t.stub=u||document.createTextNode(""),f(o.parentNode,o,u))}else if(/^(show|hide)$/.test(i))"hide"==i&&(a=!a),o.style.display=a?"":"none";else if("value"==i)o.value=a;else if("riot-"==i.slice(0,5))i=i.slice(5),a?o.setAttribute(i,a):d(o,i);else{if(t.bool){if(o[i]=a,!a)return;a=i}"object"!=typeof a&&o.setAttribute(i,a)}}})}function p(t,e){for(var n,r=0,o=(t||[]).length;o>r;r++)n=t[r],null!=n&&e(n,r)===!1&&r--;return t}function d(t,e){t.removeAttribute(e)}function h(t,e,n){return e&&p(Object.keys(e),function(n){t[n]=e[n]}),n?h(t,n):t}function g(){if(t){var e=navigator.userAgent,n=e.indexOf("MSIE ");return n>0?parseInt(e.substring(n+5,e.indexOf(".",n)),10):0}}function m(t,e){var n=document.createElement("option"),r=/value=[\"'](.+?)[\"']/,o=/selected=[\"'](.+?)[\"']/,i=e.match(r),a=e.match(o);n.innerHTML=e,i&&(n.value=i[1]),a&&n.setAttribute("riot-selected",a[1]),t.appendChild(n)}function v(t){var e=t.trim().slice(1,3).toLowerCase(),n=/td|th/.test(e)?"tr":"tr"==e?"tbody":"div",r=document.createElement(n);return r.stub=!0,"op"===e&&T&&10>T?m(r,t):r.innerHTML=t,r}function b(t,e){if(t)if(e(t)===!1)b(t.nextSibling,e);else for(t=t.firstChild;t;)b(t,e),t=t.nextSibling}function y(t,e){return t.replace(/<(yield)\/?>(<\/\1>)?/gim,e||"")}function k(t,e){return e=e||document,e.querySelectorAll(t)}function w(t,e){return t.filter(function(t){return t===e})}function x(t){function e(){}return e.prototype=t,new e}function L(t){return A[t.getAttribute("riot-tag")||t.tagName.toLowerCase()]}function _(t){var e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e)}function O(t,e,n){var r=A[e],o=t.innerHTML;return t.innerHTML="",r&&t&&(r=new u(r,{root:t,opts:n},o)),r&&r.mount?(r.mount(),N.push(r),r.on("unmount",function(){N.splice(N.indexOf(r),1)})):void 0}var C={version:"v2.0.15",settings:{}},T=g();C.observable=function(t){t=t||{};var e={},n=0;return t.on=function(r,o){return"function"==typeof o&&(o._id="undefined"==typeof o._id?n++:o._id,r.replace(/\S+/g,function(t,n){(e[t]=e[t]||[]).push(o),o.typed=n>0})),t},t.off=function(n,r){return"*"==n?e={}:n.replace(/\S+/g,function(t){if(r)for(var n,o=e[t],i=0;n=o&&o[i];++i)n._id==r._id&&(o.splice(i,1),i--);else e[t]=[]}),t},t.one=function(e,n){function r(){t.off(e,r),n.apply(t,arguments)}return t.on(e,r)},t.trigger=function(n){for(var r,o=[].slice.call(arguments,1),i=e[n]||[],a=0;r=i[a];++a)r.busy||(r.busy=1,r.apply(t,r.typed?[n].concat(o):o),i[a]!==r&&a--,r.busy=0);return e.all&&"all"!=n&&t.trigger.apply(t,["all",n].concat(o)),t},t},function(t,e,n){function r(){return c.href.split("#")[1]||""}function o(t){return t.split("/")}function i(t){t.type&&(t=r()),t!=a&&(u.trigger.apply(null,["H"].concat(o(t))),a=t)}if(n){var a,c=n.location,u=t.observable(),s=n,f=!1,l=t.route=function(t){t[0]?(c.hash=t,i(t)):u.on("H",t)};l.exec=function(t){t.apply(null,o(r()))},l.parser=function(t){o=t},l.stop=function(){f&&(s.removeEventListener?s.removeEventListener(e,i,!1):s.detachEvent("on"+e,i),u.off("*"),f=!1)},l.start=function(){f||(s.addEventListener?s.addEventListener(e,i,!1):s.attachEvent("on"+e,i),f=!0)},l.start()}}(C,"hashchange",t);var E=function(t,e,n){return function(r){return e=C.settings.brackets||t,n!=e&&(n=e.split(" ")),r&&r.test?e==t?r:RegExp(r.source.replace(/\{/g,n[0].replace(/(?=.)/g,"\\")).replace(/\}/g,n[1].replace(/(?=.)/g,"\\")),r.global?"g":""):n[r]}}("{ }"),H=function(){function e(t,e){return t=(t||E(0)+E(1)).replace(E(/\\{/g),"￰").replace(E(/\\}/g),"￱"),e=o(t,i(t,E(/{/),E(/}/))),new Function("d","return "+(e[0]||e[2]||e[3]?"["+e.map(function(t,e){return e%2?n(t,!0):'"'+t.replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':n(e[1])).replace(/\uFFF0/g,E(0)).replace(/\uFFF1/g,E(1))+";")}function n(t,e){return t=t.replace(/\n/g," ").replace(E(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(t)?"["+i(t,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(t){return t.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(t,e,n){return n.replace(/[^&|=!><]+/g,r)+'?"'+e+'":"",'})}).join("")+'].join(" ").trim()':r(t,e)}function r(e,n){return e=e.trim(),e?"(function(v){try{v="+(e.replace(c,function(e,n,r){return r?"(d."+r+"===undefined?"+("undefined"==typeof t?"global.":"window.")+r+":d."+r+")":e})||"x")+"}finally{return "+(n===!0?'!v&&v!==0?"":v':"v")+"}}).call(d)":""}function o(t,e){var n=[];return e.map(function(e,r){r=t.indexOf(e),n.push(t.slice(0,r),e),t=t.slice(r+e.length)}),n.concat(t)}function i(t,e,n){var r,o=0,i=[],a=new RegExp("("+e.source+")|("+n.source+")","g");return t.replace(a,function(e,n,a,c){!o&&n&&(r=c),o+=n?1:-1,o||null==a||i.push(t.slice(r,c+a.length))}),i}var a={},c=/(['"\/]).*?[^\\]\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function *\()|([a-z_$]\w*)/gi;return function(t,n){return t&&(a[t]=a[t]||e(t))(n)}}(),N=[],A={};C.tag=function(t,e,n,r){return"function"==typeof n?r=n:n&&_(n),A[t]={name:t,tmpl:e,fn:r},t},C.mount=function(t,e,n){function r(t){var r=e||t.getAttribute("riot-tag")||t.tagName.toLowerCase(),o=O(t,r,n);o&&a.push(o)}var o,i=function(t){return t=Object.keys(A).join(", "),t.split(",").map(function(e){t+=', *[riot-tag="'+e.trim()+'"]'}),t},a=[];if("object"==typeof e&&(n=e,e=0),"string"==typeof t?("*"==t&&(t=i(t)),o=k(t)):o=t,"*"==e){if(e=i(t),o.tagName)o=k(e,o);else{var c=[];p(o,function(t){c=k(e,t)}),o=c}e=0}return o.tagName?r(t):p(o,r),a},C.update=function(){return p(N,function(t){t.update()})},C.mountTo=C.mount,C.util={brackets:E,tmpl:H},"object"==typeof n?e.exports=C:"function"==typeof define&&define.amd?define(function(){return C}):t.riot=C}("undefined"!=typeof window?window:void 0)},{}],4:[function(t,e,n){var r=t("riot");r.tag("app-footer",'<p><a href="https://github.com/cognitom/riot-checker">GitHub</a></p>','app-footer , [riot-tag="app-footer"] { border-top: 1px solid #eee; display: block; padding: 1em; text-align: center; } app-footer a , [riot-tag="app-footer"] a { color: #aaa; } app-footer p , [riot-tag="app-footer"] p { margin: 0; font-size: 90%; }',function(t){})},{riot:3}],5:[function(t,e,n){var r=t("riot");r.tag("app-header",'<h1> <strong>Riot</strong> Tag Syntax Checker <div> <button class="{ active: active == \'source\' }" onclick="{ showSource }">Source</button> <button class="{ active: active == \'result\' }" onclick="{ showResult }">Result</button> </div> </h1>','app-header , [riot-tag="app-header"] { display: block; padding: 2em; background: #ddd; color: #888; } app-header h1 , [riot-tag="app-header"] h1 { font-size: 130%; font-weight: normal; margin: 0; } app-header div , [riot-tag="app-header"] div { float: right; font-size: 70%; } app-header button , [riot-tag="app-header"] button { border: 2px solid #fff; background: #fff; color: #f04; padding: .2em 1em; } app-header button + button , [riot-tag="app-header"] button + button { margin-left: -.5em; } app-header button:focus , [riot-tag="app-header"] button:focus { outline: none; } app-header button.active , [riot-tag="app-header"] button.active { background: #f04; color: #fff; } app-header button:first-child , [riot-tag="app-header"] button:first-child { border-top-left-radius: 1em; border-bottom-left-radius: 1em; } app-header button:last-child , [riot-tag="app-header"] button:last-child { border-top-right-radius: 1em; border-bottom-right-radius: 1em; }',function(t){this.active=t.active,this.showSource=function(t){this.active="source",this.trigger("showSource")}.bind(this),this.showResult=function(t){this.active="result",this.trigger("showResult")}.bind(this)})},{riot:3}],6:[function(t,e,n){var r=t("riot");r.tag("checker",'<div each="{ opts.results }" class="{ type }"> <i>{ line.replace(\'L\', \'\') }</i><checker-source text="{ source }"></checker-source><span if="{ error }">{ error }</span> </div>','checker , [riot-tag="checker"] { display: block; font-family: monospace; border: 1px solid #ccc; border-radius: .5em; margin: 1em; } checker > :first-child , [riot-tag="checker"] > :first-child { border-top-left-radius: .5em; border-top-right-radius: .5em; } checker > :last-child , [riot-tag="checker"] > :last-child { border-bottom-left-radius: .5em; border-bottom-right-radius: .5em; } checker div , [riot-tag="checker"] div { background: #f0f0f0; padding: .1em 1em .1em 5em; } checker div.outside , [riot-tag="checker"] div.outside { background: #fff } checker div.template , [riot-tag="checker"] div.template { background: #fff0f0 } checker div.script , [riot-tag="checker"] div.script { background: #f0f0ff } checker div.style , [riot-tag="checker"] div.style { background: #f0fff0 } checker i , [riot-tag="checker"] i { margin-left: -5em; display: inline-block; width: 4em; text-align: right; padding-right: 1em; color: rgba(0,0,0,.5) } checker span , [riot-tag="checker"] span { display: block; padding: .2em .6em; margin: .2em 0; border-radius: .3em; background: #ff0044; color: #fff; }',function(t){}),r.tag("checker-source","",function(t){this.root.innerHTML=t.text.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;")})},{riot:3}],7:[function(t,e,n){var r=t("riot");r.tag("editor",'<textarea name="source" onkeyup="{ adjust }" onchange="{ change }">{ opts.source }</textarea>','editor , [riot-tag="editor"] { display: block; font-family: monospace; border: 1px solid #ccc; border-radius: .5em; margin: 1em; } editor textarea , [riot-tag="editor"] textarea { width: 100%; padding: 1em; border: none; margin: 0; border-radius: .5em; box-sizing: border-box; }',function(t){this.change=function(t){this.trigger("change",this.source.value)}.bind(this),this.adjust=function(){var t=this.source;t.scrollHeight>t.clientHeight&&(t.style.height=t.scrollHeight+"px")}.bind(this),this.on("mount",function(){this.adjust()})})},{riot:3}],8:[function(t,e,n){e.exports=["// A sample tag file with some errors","// To change the source, click 'Source' button above.","","var riot = require('riot')","","<valid-tag>","  <h1>{ title }</h1>","  <p>{ message }</p>","<invalid-flagment","  this.title = 'Hello world!'","  this.message = 'I am hungry...'","</valid-tag>","","<invalid-t","  <h1>{ title }</h1>","  <p>{ message }</p>","","  this.title = 'Hello world!'","  this.message = 'I am hungry...'","</invalid-t","","console.log('end of file')"].join("\n")},{}]},{},[1]);
//# sourceMappingURL=app.js.map